var list=function(){function t(){return listModule.getListStyle()}function e(){t()&&t().destroy&&t().destroy();var e=$("#content #progressBar"),n=$("#content #loading");$("#content .listContent").length&&$(".listContent","#content",!0).remove(),e.hide().html('<div id="strip"></div>'),$("#pageNum").hide(),$("#noData").hide(),n.show()}function n(){return listModule.getKeysMap()}function o(){var e=t();e.deactive&&e.deactive()}function i(){var e=t();listModule.changeActive(),e.active()}return{init:function(t){$.pTool.add("p_list",{key:"p_list",keysMap:{KEY_DOWN:function(){return n().down(),!0},KEY_LEFT:function(){return n().left(),!0},KEY_RIGHT:function(){return n().right(),!0},KEY_UP:function(){return n().up(),!0},KEY_PAGEDOWN:function(){return n().pageDown(),!0},KEY_PAGEUP:function(){return n().pageUp(),!0},KEY_OK:function(){return n().ok(),!0}},active:i,deactive:o,cover:function(){return!0},uncover:function(){return!0}}),listModule.init(t)},active:i,resetFocus:listModule.resetCon,renderPageNum:function(t){if(listModule.getCon().id){var e=32===listModule.getCon().id.length?"部":"个";$("#pageNum").show().html(t+listModule.getCon().total+e)}},renderShowLine:function(t){if(listModule.getCon().total){var e=Math.ceil(listModule.getCon().total/listModule.getCon().columnSize),n=(t=t||Math.floor(listModule.getCon().focusIndex/listModule.getCon().columnSize)+1,"/"+e+"行");$("#pageNum").show().html('<span class="nowLine">'+t+'</span><span class="all">'+n+"</span>")}else $("#pageNum").hide()},render:function(n){e(),listModule.initCon(n);var o=t();o.render&&o.render()},getState:function(){var t=listModule.getCon();return{firstLineIndex:t.firstLineIndex||0,isActive:t.isActive,focusIndex:t.focusIndex}},getStyle:listModule.getListStyle,getTotal:function(){return listModule.getCon().total}}}();