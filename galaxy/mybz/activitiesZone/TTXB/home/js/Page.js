var G_PRELOAD_IMG=[],pageName="homePage_ttxb",RECODE_DATA_KEY=pageName,_Marquee=$.Marquee,PAGE_INFO=[{key:"preload",focusImg:["images/primary.png","images/junior.png","images/senior.png","images/sprint.png","images/suggestFocus.png","images/seconedFocus.png","images/suggestMask.png","images/bg.jpg","images/scrollMask.png","images/toOrder.png"]},{key:"orderFocus",pressDown:function(){""==cfg.prev&&(cfg.prev="scrollPlay"),"scrollPlay"==cfg.prev&&(cfg.focusSign=!0),$.focusTo(cfg.prev)},pressOk:function(){cfg.isOrder||(savePageInfo(),$.auth.forwardOrder())},focusImg:["images/orderFocus.png"]},{key:"scrollPlay",pressUp:function(){cfg.prev="scrollPlay",$.focusTo("orderFocus")},pressDown:"seconedFocus0",pressRight:"suggestFocus0",pressOk:_ok,type:0,focusImg:[]},{key:"suggestFocus0",pressUp:function(){cfg.prev="suggestFocus0",$.focusTo("orderFocus")},pressDown:"seconedFocus2",pressLeft:"scrollPlay",pressRight:"suggestFocus1",pressOk:_ok,type:1,focusImg:["images/suggestFocus.png"]},{key:"suggestFocus1",pressUp:function(){cfg.prev="suggestFocus1",$.focusTo("orderFocus")},pressDown:"seconedFocus3",pressLeft:"suggestFocus0",pressOk:_ok,type:1,focusImg:["images/suggestFocus.png"]},{key:"seconedFocus0",pressUp:"scrollPlay",pressRight:"seconedFocus1",pressOk:seconedOk,url:"menu://TTXBXXYNJ.0",focusImg:["images/seconedFocus.png"]},{key:"seconedFocus1",pressUp:"scrollPlay",pressLeft:"seconedFocus0",pressRight:"seconedFocus2",pressOk:seconedOk,url:"menu://TTXBCZCY.0",focusImg:["images/seconedFocus.png"]},{key:"seconedFocus2",pressUp:"suggestFocus0",pressLeft:"seconedFocus1",pressRight:"seconedFocus3",pressOk:seconedOk,url:"menu://TTXBGZGY.0",focusImg:["images/seconedFocus.png"]},{key:"seconedFocus3",pressUp:"suggestFocus1",pressLeft:"seconedFocus2",pressOk:seconedOk,url:"menu://TTXBCCZK.0",focusImg:["images/seconedFocus.png"]}],cfg={prev:"",isOrder:!1,timer:null,focusSign:!1,dataIndex:0},ACTIVE_OBJECT=null,pageInfo=$.initPageInfo(pageName,["focus"],{focus:"scrollPlay"});function initPage(){$.initPage(),$.recodeData(pageName,"access"),isOrder(),printPage(),$.focusTo(pageInfo.focus),$("#signList0").addClass("current"),cfg.seconedList=$("#seconedList")[0].children}function isOrder(){$.auth.auth({entrance:"TTXB",package:[{chargeId:$.auth.getId4Entrance("TTXB")}],callback:_authCallback})}function _authCallback(e){var s="";e?(cfg.isOrder=!0,s='<img src="'+orderPic[0].orderPic+'"/>'):s='<img src="'+orderPic[0].pic+'"/>',$("#isOrder").html(s)}function printPage(){renderScroll(),renderSug()}function renderScroll(){var e=[],s=[],c=DATA_TOOL.scrollPlay;if(c.length){for(var r=c.length<5?c.length:5,o=0;o<r;o++){var n='<div id="scrollList'+o+'" class="scrollList" style="left:'+882*o+'px"><img src="'+$.getPic(c[o].pics,[57])+'"/>'+addTitle(c[o].contentName,1)+"</div>",t='<div id="signList'+o+'" class="signList" style="left:'+15*(o+2)+'px"></div>';s.push(n),e.push(t)}var g='<div id="scrollSign">'+e.join("")+"</div>";$("#scrollPlay").html(s.join("")+g),startScroll()}}function addTitle(e,s){return e.indexOf("#")>-1?"":s?'<div class="scrollTitle" data="'+e+'"><div class="scrollText autoText">'+e+"</div></div>":'<div class="sugTitle autoText" data="'+e+'">'+e+"</div>"}function startScroll(){cfg.timer=setInterval(function(){if(!cfg.focusSign)for(var e=$("#scrollPlay")[0].children,s=e.length-1,c=0;c<s;c++){$("#signList"+c).removeClass("current");var r=parseInt(e[c].style.left)-882;r!=-882*s?e[c].style.left=r+"px":(r=0,e[c].style.left=r+"px"),0==r&&(cfg.dataIndex=c,$("#signList"+c).addClass("current"))}},3e3)}function renderSug(){for(var e=[],s=DATA_TOOL.suggestList,c=0;c<2;c++){var r='<div id="suggestImg'+c+'" class="sug"><img src="'+$.getPic(s[c].pics,[57])+'"/>'+addTitle(s[c].contentName)+"</div>";e.push(r)}$("#suggestList").html(e.join(""))}function savePageInfo(){$.savePageInfo(pageName,{focus:ACTIVE_OBJECT.key})}function _ok(){var e,s;ACTIVE_OBJECT.type?(e=parseInt(ACTIVE_OBJECT.key.slice(-1)),(s=DATA_TOOL.suggestList[e]).categoryId=guidance.sug):(e=cfg.dataIndex,(s=DATA_TOOL.scrollPlay[e]).categoryId=guidance.lb),s.id&&(s.contentId=s.id),s.entrance="TTXB",savePageInfo();var c=["3","7"];c.indexOf(s.contentType)>-1&&(s.contentType===c[0]?s.contentType=c[1]:s.contentType=c[0]),$.gotoDetail(s,!1,savePageInfo)}function seconedOk(){savePageInfo(),$.gotoDetail({contentType:"7",contentUri:ACTIVE_OBJECT.url})}!function(e){$.focusTo=function(s){if($.UTIL.apply(e,[s],$),cfg.focusSign=!1,_Marquee({el:"",width:"",all:""}),$("#scrollPlay").removeClass("current"),$("#suggestImg0").removeClass("current"),$("#suggestImg1").removeClass("current"),$("#seconedList0").removeClass("current"),$("#seconedList1").removeClass("current"),$("#seconedList2").removeClass("current"),$("#seconedList3").removeClass("current"),/scroll/.test(s))$("#scrollPlay").addClass("current"),(r=$("#scrollList"+cfg.dataIndex)[0].children[1].attributes.data.nodeValue)!=$("#scrollList"+cfg.dataIndex)[0].children[1].innerHTML&&_Marquee({el:$("#scrollList"+cfg.dataIndex)[0].children[1].children[0],width:"660px",all:r}),cfg.focusSign=!0;else if(/seconed/.test(s)){var c=s.slice(-1);$("#seconedList"+c).addClass("current")}else if(/suggest/.test(s)){var r;c=s.slice(-1);if($("#suggestImg"+c).addClass("current"),$("#suggestImg"+c)[0].children.length>1)(r=$("#suggestImg"+c)[0].children[1].attributes.data.nodeValue)!=$("#suggestImg"+c)[0].children[1].innerHTML&&_Marquee({el:$("#suggestImg"+c)[0].children[1],width:"428px",all:r})}}}($.focusTo);