<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="page-view-size" content="1920*1080"><title>fourScreen</title><link rel="stylesheet" href="../../css/public.css"><style>body{width:1920px;height:1080px;overflow:hidden;margin:0;position:relative;left:0;top:0;background:0 0}#bgImg{width:0;height:0;position:absolute;left:0;top:0}#caBg{position:absolute;left:0;top:0}#bigVideo{position:absolute;width:1229px;height:689px;border:4px #1f1f1f solid;left:46px;top:191px}#video{position:absolute;left:1321px;top:44px}#video .video{width:547px;height:305px;border:4px solid #1f1f1f;background:#0e1212 url(images/fourScreen/movie.png) center center no-repeat;margin-bottom:30px}#video .video.transparent{background:0 0}#bigVideo.focusBorder,#video .focusBorder{-webkit-box-shadow:0 0 0 5px #fff,0 0 16px 5px #fff;z-index:1}.popUp{background:rgba(18,18,23,.95);position:absolute;width:633px;height:1080px;top:0;right:0;z-index:2}.popUp .cue{width:100%;height:40px;line-height:40px;text-align:center;color:#fff;position:absolute;top:371px;left:0;font-size:40px}.popUp .confirm,.popUp .return{width:230px;height:68px;position:absolute;left:50%;-webkit-transform:translateX(-50%);background:rgba(0,0,0,.15);border:3px solid rgba(255,255,255,.15);-webkit-box-sizing:border-box;line-height:62px;text-align:center;color:#fff;font-size:36px;border-radius:34px}.popUp .confirm{top:507px}.popUp .return{top:645px}.popUp .confirm.focusBorder,.popUp .return.focusBorder{background:-webkit-linear-gradient(left,#eba600 0,#ec8a0d 100%);color:#1b0f01}</style><script src="../../puppy/common.js"></script><script>$.addBackUrlRedefine(function(){}),$.playVideoRedefine(!0),$.playLiveOrRecRedefine(!0);for(var bigVideoPosition={width:1229,height:689,left:50,top:195},smallListPosition=[{left:1325,top:48,width:547,height:305},{left:1325,top:392,width:547,height:305},{left:1325,top:735,width:547,height:305}],channelIdArr=$.page.channelId.split(","),bigVideoId=channelIdArr[0],bigVideoPlayer=null,videoIdArr=[],videoPlayerArr=[],$fullScreenEnter=null,$backCue=null,i=1;i<channelIdArr.length;i++)videoIdArr.push(channelIdArr[i]);var keyPosition="bigVideo",videoIndex=0,popUpIndex="confirm",saveKeyPosition="";function returnToBigVideo(){keyPosition="bigVideo",$fullScreenEnter.hide(),$.focusTo({el:"#bigVideo"})}function returnToPage(){$backCue.hide(),"bigVideo"===saveKeyPosition?$.focusTo({el:"#bigVideo"}):"video"===saveKeyPosition&&$.focusTo({el:"#video"+videoIndex}),keyPosition=saveKeyPosition}function load(){var o=$("#caBg")[0].getContext("2d"),e=$("#bgImg")[0];$fullScreenEnter=$("#fullScreenEnter"),$backCue=$("#backCue"),o.drawImage(e,0,0),o.clearRect(bigVideoPosition.left,bigVideoPosition.top,bigVideoPosition.width,bigVideoPosition.height),$.UTIL.each(smallListPosition,function(e,i){o.clearRect(e.left,e.top,e.width,e.height)}),$.UTIL.each(videoIdArr,function(e,i){$("#video"+i).addClass("transparent")}),$.pTool.active("fourScreen"),$.focusTo({el:"#bigVideo"})}function unload(){}function createBigPlayer(){var e=new MediaPlayer("MOSAIC");e.setNativeUIFlag(0),e.setVideoDisplayMode(0),e.setVideoDisplayArea(bigVideoPosition.left,bigVideoPosition.top,bigVideoPosition.width,bigVideoPosition.height),e.refreshVideoDisplay(),e.setMuteFlag(1),bigVideoPlayer=e;var i=$.getChanById(bigVideoId);if(i){var o={mediaCode:i.mediaId+"",mediaURL:i.num,mediaType:1,streamType:2};e.setSingleMedia(JSON.stringify(o)),e.playFromStart(),setTimeout(function(){$.initVolume(e)},100)}}function createPlayer(e){var i=new MediaPlayer("MOSAIC");i.setNativeUIFlag(0),i.set("HaveorNoVoice",1),i.setVideoDisplayMode(0),i.setVideoDisplayArea(smallListPosition[e].left,smallListPosition[e].top,smallListPosition[e].width,smallListPosition[e].height),i.refreshVideoDisplay(),i.setMuteFlag(1),videoPlayerArr.push(i);var o=$.getChanById(videoIdArr[e]);if(o){var n={mediaCode:o.mediaId+"",mediaURL:o.num,mediaType:1,streamType:2};i.setSingleMedia(JSON.stringify(n)),i.playFromStart()}}function chooseBigVideo(e){var i=bigVideoPlayer,o=bigVideoId;bigVideoPlayer.setMuteFlag(!0),bigVideoPlayer=videoPlayerArr[e],bigVideoId=videoIdArr[e],videoPlayerArr[e]=i,videoIdArr[e]=o,bigVideoPlayer.setVideoDisplayArea(bigVideoPosition.left,bigVideoPosition.top,bigVideoPosition.width,bigVideoPosition.height),bigVideoPlayer.refreshVideoDisplay(),videoPlayerArr[e].setVideoDisplayArea(smallListPosition[e].left,smallListPosition[e].top,smallListPosition[e].width,smallListPosition[e].height),videoPlayerArr[e].refreshVideoDisplay(),$.initVolume(bigVideoPlayer)}$.pTool.add("fourScreen",{key:"fourScreen",keysMap:{KEY_DOWN:function(){if("video"===keyPosition){if(videoIndex===videoIdArr.length-1)return!0;videoIndex++,$.focusTo({el:"#video"+videoIndex})}else"f_popUp"===keyPosition&&"confirm"===popUpIndex?(popUpIndex="return",$.focusTo({el:"#fullScreenEnter ."+popUpIndex})):"b_popUp"===keyPosition&&"confirm"===popUpIndex&&(popUpIndex="return",$.focusTo({el:"#backCue ."+popUpIndex}));return!0},KEY_UP:function(){if("video"===keyPosition){if(0===videoIndex)return!0;videoIndex--,$.focusTo({el:"#video"+videoIndex})}else"f_popUp"===keyPosition&&"return"===popUpIndex?(popUpIndex="confirm",$.focusTo({el:"#fullScreenEnter ."+popUpIndex})):"b_popUp"===keyPosition&&"return"===popUpIndex&&(popUpIndex="confirm",$.focusTo({el:"#backCue ."+popUpIndex}));return!0},KEY_LEFT:function(){return"video"===keyPosition&&(keyPosition="bigVideo",$.focusTo({el:"#bigVideo"})),!0},KEY_RIGHT:function(){return"bigVideo"===keyPosition&&(keyPosition="video",$.focusTo({el:"#video"+videoIndex})),!0},KEY_OK:function(){return"bigVideo"===keyPosition?(keyPosition="f_popUp",$fullScreenEnter.show(),popUpIndex="confirm",$.focusTo({el:"#fullScreenEnter ."+popUpIndex})):"video"===keyPosition?chooseBigVideo(videoIndex):"f_popUp"===keyPosition?"confirm"===popUpIndex?$.playLiveOrRec({channelId:bigVideoId}):"return"===popUpIndex&&returnToBigVideo():"b_popUp"===keyPosition&&("confirm"===popUpIndex?$.back():"return"===popUpIndex&&returnToPage()),!0},KEY_RETURN:function(){return"f_popUp"===keyPosition?returnToBigVideo():"b_popUp"===keyPosition?returnToPage():(saveKeyPosition=keyPosition,keyPosition="b_popUp",$backCue.show(),popUpIndex="confirm",$.focusTo({el:"#backCue ."+popUpIndex})),!0}},init:function(){},active:function(){},deactive:function(){},cover:function(){return!0},uncover:function(){return!0},destroy:function(){}}),$.UTIL.each(videoIdArr,function(e,i){createPlayer(i)}),createBigPlayer()</script></head><body onload="load()" onunload="unload()"><img id="bgImg" src="images/fourScreen/bg.jpg"><canvas id="caBg" width="1920" height="1080"></canvas><div id="bigVideo"></div><div id="video"><div id="video0" class="video"></div><div id="video1" class="video"></div><div id="video2" class="video"></div></div><div id="fullScreenEnter" class="popUp hide"><div class="cue">确定要进入全屏观看吗?</div><div class="confirm">确定</div><div class="return">返回</div></div><div id="backCue" class="popUp hide"><div class="cue">确定要退出多屏同看模式吗?</div><div class="confirm">退出</div><div class="return">继续观看</div></div></body></html>