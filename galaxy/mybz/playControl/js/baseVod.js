$.addBackUrlRedefine(function(){}),$.playVideoRedefine(!0),$.playLiveOrRecRedefine(!0);var page={contentId:$.page.contentId,categoryId:$.page.categoryId,ztCategoryId:$.page.ztCategoryId,contentName:decodeURI($.page.contentName)},vl=null,totalTime=0;function load(){(vl=$.createVideoList({list:[{contentId:page.contentId,name:page.contentName}],current:0,loop:!1,auto:!1,multiVod:!1,recovery:!0,endPoint:void 0,loading:function(e){console.log("loading type is ",e)},onPlay:function(){$.initVolume(vl.mp)},onEnd:function(e,o){$.back()},onError:function(e){return $.gotoDetail($.urls.noVod,!0),!0}},page.categoryId)).play(),$.pTool.get("progress").setInfo({videoName:page.contentName}),$.pTool.get("progress").init(vl.mp),vl.mp.sub($.MP.state.progress,function(e){var o=e.total;o&&o-e.curr<=5?EndTipPanel.show(o-e.curr):EndTipPanel.hide()}),vl.mp.once($.MP.state.loaded,function(e){totalTime=e.total,$.vs.vodPlay(page.contentId,totalTime,page.contentName,page.categoryId,$.auth.getchargeSpIds(page.contentId),page.ztCategoryId)})}function unload(){vl&&vl.release()}var EndTipPanel=function(){var e;return{show:function(o){e||(e=$('<div class="endBox"></div>').appendTo("body"));var t='<span class="time">'+o+'</span><span class="unit">S</span> 即将播放结束';e.show().html(t)},hide:function(){e&&e.hide(),e&&e.html("")}}}();function transferTime(e){return toTwo(Math.floor(e%86400/3600))+":"+toTwo(Math.floor(e%86400%3600/60))+":"+toTwo(e%60)}function toTwo(e){return e<10?"0"+e:""+e}